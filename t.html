<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>PlayCode ‚Äî Player Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #070707;
        --panel: #111;
        --card: #151515;
        --muted: #9aa0a6;
        --accent-1: #00ff88;
        --accent-2: #0099ff;
        --gold: #ffd700;
        --glass: rgba(255, 255, 255, 0.03);
        --border: #272727;
        --success: #00ff88;
        --danger: #ff4757;
        --radius: 14px;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: "Rajdhani", sans-serif;
        background: linear-gradient(180deg, #050505 0%, #0b0b0b 100%);
        color: #eee;
      }
      .wrap {
        max-width: 1400px;
        margin: 24px auto;
        padding: 20px;
      }
      /* Header */
      .header {
        display: flex;
        gap: 16px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }
      .brand {
        display: flex;
        gap: 16px;
        align-items: center;
      }
      .logo {
        font-family: "Orbitron";
        font-weight: 900;
        background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-size: 1.7rem;
      }
      .search {
        position: relative;
      }
      .search input {
        background: var(--panel);
        border: 1px solid var(--border);
        padding: 10px 14px;
        border-radius: 10px;
        color: #ddd;
        width: 360px;
      }
      .header-right {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      .coin-pill {
        background: var(--card);
        border: 1px solid var(--border);
        padding: 8px 12px;
        border-radius: 999px;
        display: flex;
        gap: 8px;
        align-items: center;
      }
      .coin-icon {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--gold);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #000;
        font-family: Orbitron;
      }
      .avatar {
        display: flex;
        gap: 8px;
        align-items: center;
        background: var(--card);
        padding: 8px;
        border-radius: 12px;
        border: 1px solid var(--border);
      }
      .avatar img {
        width: 44px;
        height: 44px;
        border-radius: 10px;
        object-fit: cover;
      }
      .avatar .meta {
        display: flex;
        flex-direction: column;
      }
      .small {
        font-size: 0.8rem;
        color: var(--muted);
      }
      /* Layout grid */
      .grid {
        display: grid;
        grid-template-columns: 360px 1fr 360px;
        gap: 18px;
      }
      @media (max-width: 1100px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
      /* Left column */
      .panel {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 16px;
      }
      .profile-card {
        display: flex;
        gap: 14px;
        align-items: center;
      }
      .lvl-badge {
        background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
        padding: 6px 10px;
        border-radius: 8px;
        color: #001;
      }
      .xp-bar {
        background: var(--card);
        height: 12px;
        border-radius: 10px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.03);
        margin-top: 10px;
      }
      .xp-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
        width: 0;
        transition: width 900ms cubic-bezier(0.2, 0.9, 0.2, 1);
      }
      .quick-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 14px;
      }
      .qa-btn {
        background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
        border: none;
        padding: 10px 12px;
        border-radius: 10px;
        color: #001;
        font-weight: 700;
        cursor: pointer;
      }
      .small-card {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: space-between;
        padding: 10px;
        background: var(--card);
        border-radius: 10px;
        border: 1px solid var(--border);
        margin-top: 10px;
      }
      .streak {
        font-size: 1.4rem;
        font-weight: 700;
        color: var(--accent-1);
      }
      /* middle column */
      .main-col {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .row {
        display: flex;
        gap: 16px;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
      }
      @media (max-width: 900px) {
        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      .stat {
        background: var(--card);
        border-radius: 12px;
        padding: 12px;
        border: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .stat .v {
        font-family: Orbitron;
        font-weight: 700;
        font-size: 1.1rem;
      }
      .panel-hero {
        display: flex;
        gap: 16px;
        align-items: center;
        padding: 16px;
        border-radius: 12px;
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.15), transparent);
        border: 1px solid var(--border);
      }
      .hero-left {
        flex: 1;
      }
      .challenge-title {
        font-family: Orbitron;
        font-size: 1.3rem;
      }
      .hero-cta {
        display: flex;
        gap: 10px;
        margin-top: 12px;
      }
      .btn-ghost {
        background: transparent;
        border: 1px solid var(--border);
        padding: 8px 12px;
        border-radius: 10px;
        color: #ddd;
        cursor: pointer;
      }
      .countdown {
        font-family: Orbitron;
        color: var(--accent-1);
      }
      /* recommended & library */
      .cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 12px;
      }
      .pack-card {
        background: var(--card);
        padding: 12px;
        border-radius: 12px;
        border: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .pack-card .title {
        font-weight: 700;
        font-family: Orbitron;
      }
      .tag {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px;
        border-radius: 8px;
        font-size: 0.8rem;
        color: var(--muted);
        display: inline-block;
      }
      /* right column */
      .leaderboard {
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .leader-row {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: space-between;
        padding: 8px;
        background: var(--card);
        border-radius: 10px;
        border: 1px solid var(--border);
      }
      .leader-info {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .mini-avat {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        object-fit: cover;
      }
      .badges {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }
      .badge {
        background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
        padding: 6px 8px;
        border-radius: 8px;
        color: #001;
        font-weight: 700;
      }
      /* activity feed */
      .activity {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .activity-item {
        background: var(--card);
        padding: 10px;
        border-radius: 10px;
        border: 1px solid var(--border);
        display: flex;
        gap: 10px;
        align-items: flex-start;
      }
      .activity-time {
        font-size: 0.78rem;
        color: var(--muted);
      }
      /* footer small text */
      .muted {
        color: var(--muted);
        font-size: 0.9rem;
      }
      /* Utilities */
      .pill {
        background: var(--glass);
        padding: 6px 8px;
        border-radius: 8px;
        border: 1px solid var(--border);
        font-size: 0.85rem;
      }
      .progress-small {
        height: 8px;
        background: var(--card);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.03);
      }
      .progress-small > i {
        display: block;
        height: 100%;
        background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
        width: 0;
      }
      /* modal */
      .modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 999;
        display: none;
      }
      .modal.show {
        display: flex;
      }
      .modal-card {
        background: var(--panel);
        padding: 18px;
        border-radius: 12px;
        border: 1px solid var(--border);
        width: 420px;
      }
      .close {
        background: transparent;
        border: 0;
        color: var(--muted);
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <!-- header -->
      <div class="header">
        <div class="brand">
          <div class="logo">PlayCode</div>
          <div class="small muted">Dashboard</div>
        </div>

        <div class="search">
          <input
            id="globalSearch"
            placeholder="Search problems, packs, people..."
          />
        </div>

        <div class="header-right">
          <div class="coin-pill" title="PlayCoins">
            <div class="coin-icon">‚ÇΩ</div>
            <div
              style="min-width: 72px; text-align: right; font-family: Orbitron"
              id="topCoins"
            >
              2,847
            </div>
          </div>

          <div class="avatar" title="View profile">
            <img src="https://i.pravatar.cc/60?img=32" alt="avatar" />
            <div class="meta">
              <div style="font-weight: 700">Nayeem</div>
              <div class="small">
                Bangladesh ‚Ä¢ Level <span style="font-family: Orbitron">12</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- grid -->
      <div class="grid">
        <!-- LEFT COLUMN -->
        <aside>
          <div class="panel profile-card">
            <img
              src="https://i.pravatar.cc/72?img=32"
              style="
                width: 72px;
                height: 72px;
                border-radius: 12px;
                object-fit: cover;
              "
              alt="me"
            />
            <div style="flex: 1">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <div>
                  <div style="font-weight: 800; font-size: 1.1rem">
                    Nayeem Islam
                  </div>
                  <div class="small">BSc CSE ‚Ä¢ Shahjalal University</div>
                </div>
                <div class="lvl-badge">Lvl 12</div>
              </div>

              <div style="margin-top: 12px">
                <div class="small">XP</div>
                <div
                  class="xp-bar"
                  role="progressbar"
                  aria-valuenow="62"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  <div class="xp-fill" id="xpFill" style="width: 62%"></div>
                </div>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    margin-top: 8px;
                    font-size: 0.9rem;
                  "
                >
                  <div class="small muted">620 / 1000 XP</div>
                  <div class="small muted">
                    Streak: <span class="streak">7üî•</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel" style="margin-top: 12px">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Quick Actions</div>
              <div class="pill small">Fast</div>
            </div>

            <div class="quick-actions">
              <button class="qa-btn" id="startChallengeBtn">
                ‚ñ∂ Start Daily Challenge
              </button>
              <button class="btn-ghost" id="randomProblem">
                üîÄ Solve random problem
              </button>
              <button class="btn-ghost" id="joinContest">
                üèÅ Join next contest
              </button>
            </div>

            <div style="margin-top: 12px">
              <div class="small muted">Upcoming</div>
              <div class="small-card">
                <div>
                  <div style="font-weight: 700">Weekly Contest #21</div>
                  <div class="small muted">
                    Starts in
                    <span class="countdown" id="contestCountdown"
                      >02:12:45</span
                    >
                  </div>
                </div>
                <div class="pill">Register</div>
              </div>
            </div>
          </div>

          <div class="panel" style="margin-top: 12px">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Achievements</div>
              <div class="small muted">Progress</div>
            </div>
            <div style="margin-top: 10px" class="badges">
              <div class="badge">Graph Pro</div>
              <div class="badge">100 Solves</div>
              <div class="badge">Streak √ó7</div>
            </div>

            <div style="margin-top: 12px">
              <div class="small muted">Next goal</div>
              <div
                style="
                  display: flex;
                  gap: 8px;
                  margin-top: 8px;
                  align-items: center;
                "
              >
                <div style="flex: 1">
                  <div class="progress-small"><i style="width: 48%"></i></div>
                </div>
                <div class="small muted">48%</div>
              </div>
            </div>
          </div>
        </aside>

        <!-- MIDDLE COLUMN -->
        <main class="main-col">
          <!-- top stats -->
          <div class="row stats-grid">
            <div class="stat">
              <div class="small muted">Solved</div>
              <div class="v">1,482</div>
              <div class="small muted">Unique problems solved</div>
            </div>
            <div class="stat">
              <div class="small muted">Accuracy</div>
              <div class="v">86%</div>
              <div class="small muted">Avg success rate</div>
            </div>
            <div class="stat">
              <div class="small muted">Avg Time</div>
              <div class="v">32m</div>
              <div class="small muted">Per problem</div>
            </div>
            <div class="stat">
              <div class="small muted">Rank</div>
              <div class="v">#128</div>
              <div class="small muted">Global leaderboard</div>
            </div>
          </div>

          <!-- Hero challenge -->
          <div class="panel panel-hero">
            <div class="hero-left">
              <div class="challenge-title">
                Today's Challenge ‚Äî String Mastery
              </div>
              <div class="small muted" style="margin-top: 6px">
                Sharpen your string manipulation skills with 3 problems ‚Äî
                estimated 45-90 min
              </div>
              <div class="hero-cta">
                <button class="qa-btn" id="startToday">Start Now</button>
                <button class="btn-ghost" id="previewToday">
                  Preview problems
                </button>
                <div style="flex: 1"></div>
                <div class="small muted">
                  Ends in
                  <span id="todayCountdown" class="countdown">04:59:12</span>
                </div>
              </div>
            </div>
            <div style="width: 260px">
              <div
                style="
                  background: linear-gradient(
                    135deg,
                    var(--accent-2),
                    var(--accent-1)
                  );
                  padding: 12px;
                  border-radius: 10px;
                  color: #001;
                  font-weight: 800;
                  text-align: center;
                "
              >
                Streak Bonus
              </div>
              <div style="margin-top: 12px" class="small muted">
                Complete today's challenge to earn
                <strong>+120 PlayCoins</strong> and a badge!
              </div>
            </div>
          </div>

          <!-- Recommended & Library -->
          <div style="display: flex; gap: 16px; flex-wrap: wrap">
            <div style="flex: 1; min-width: 320px" class="panel">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <div style="font-weight: 700">Recommended For You</div>
                <div class="small muted">Based on your activity</div>
              </div>
              <div style="margin-top: 12px" class="cards">
                <div class="pack-card">
                  <div class="title">Graphs Quick Wins</div>
                  <div class="small muted">12 problems ‚Ä¢ 2-3 hours</div>
                  <div
                    style="
                      display: flex;
                      gap: 8px;
                      margin-top: 8px;
                      align-items: center;
                    "
                  >
                    <div class="tag">Graph</div>
                    <div class="tag">Intermediate</div>
                    <div style="flex: 1"></div>
                    <div class="pill">‚ÇΩ420</div>
                  </div>
                </div>
                <div class="pack-card">
                  <div class="title">DP Daily Sprint</div>
                  <div class="small muted">30 problems ‚Ä¢ 10 lessons</div>
                  <div
                    style="
                      display: flex;
                      gap: 8px;
                      margin-top: 8px;
                      align-items: center;
                    "
                  >
                    <div class="tag">DP</div>
                    <div class="tag">Advanced</div>
                    <div style="flex: 1"></div>
                    <div class="pill">‚ÇΩ750</div>
                  </div>
                </div>
                <div class="pack-card">
                  <div class="title">Interview Essentials</div>
                  <div class="small muted">
                    Mixed problems ‚Ä¢ mock interviews
                  </div>
                  <div
                    style="
                      display: flex;
                      gap: 8px;
                      margin-top: 8px;
                      align-items: center;
                    "
                  >
                    <div class="tag">Mixed</div>
                    <div class="tag">All</div>
                    <div style="flex: 1"></div>
                    <div class="pill">‚ÇΩ1,200</div>
                  </div>
                </div>
              </div>
            </div>

            <div style="flex: 1; min-width: 320px" class="panel">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <div style="font-weight: 700">Activity Feed</div>
                <div class="small muted">Live</div>
              </div>
              <div style="margin-top: 12px" class="activity" id="activityFeed">
                <!-- items injected via JS -->
              </div>
            </div>
          </div>

          <!-- Active challenges -->
          <div class="panel">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Active Challenges</div>
              <div class="small muted">2 active</div>
            </div>

            <div
              style="
                margin-top: 12px;
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
              "
            >
              <div style="flex: 1; min-width: 240px" class="small-card">
                <div style="flex: 1">
                  <div style="font-weight: 700">30-day Practice Streak</div>
                  <div class="small muted">Day 7 of 30</div>
                  <div style="margin-top: 8px" class="progress-small">
                    <i style="width: 23%"></i>
                  </div>
                </div>
                <div style="text-align: right">
                  <div class="pill">+10 coins/day</div>
                </div>
              </div>

              <div style="flex: 1; min-width: 240px" class="small-card">
                <div style="flex: 1">
                  <div style="font-weight: 700">Weekly Contest Goal</div>
                  <div class="small muted">Top 500 to earn bonus</div>
                  <div style="margin-top: 8px" class="progress-small">
                    <i style="width: 62%"></i>
                  </div>
                </div>
                <div style="text-align: right">
                  <div class="pill">Rank: #128</div>
                </div>
              </div>
            </div>
          </div>
        </main>

        <!-- RIGHT COLUMN -->
        <aside>
          <div class="panel leaderboard">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Friends Leaderboard</div>
              <div class="small muted">Weekly</div>
            </div>

            <div style="margin-top: 12px">
              <div class="leader-row">
                <div class="leader-info">
                  <img
                    class="mini-avat"
                    src="https://i.pravatar.cc/40?img=10"
                  />
                  <div>
                    <div style="font-weight: 700">Ayesha</div>
                    <div class="small muted">420 pts</div>
                  </div>
                </div>
                <div style="font-family: Orbitron; color: var(--gold)">#1</div>
              </div>
              <div class="leader-row">
                <div class="leader-info">
                  <img class="mini-avat" src="https://i.pravatar.cc/40?img=5" />
                  <div>
                    <div style="font-weight: 700">Rafi</div>
                    <div class="small muted">380 pts</div>
                  </div>
                </div>
                <div style="font-family: Orbitron; color: var(--silver)">
                  #2
                </div>
              </div>
              <div class="leader-row">
                <div class="leader-info">
                  <img
                    class="mini-avat"
                    src="https://i.pravatar.cc/40?img=12"
                  />
                  <div>
                    <div style="font-weight: 700">Tania</div>
                    <div class="small muted">355 pts</div>
                  </div>
                </div>
                <div style="font-family: Orbitron; color: var(--bronze)">
                  #3
                </div>
              </div>
            </div>

            <div style="margin-top: 12px" class="small muted">
              Invite friends to climb the board and earn referral coins.
            </div>
          </div>

          <div class="panel" style="margin-top: 12px">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Shortcuts</div>
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 8px;
                margin-top: 10px;
              "
            >
              <button class="btn-ghost" id="openLibrary">üìö My library</button>
              <button class="btn-ghost" id="openWallet">
                üí∞ Transaction history
              </button>
              <button class="btn-ghost" id="openSettings">‚öôÔ∏è Settings</button>
            </div>
          </div>

          <div class="panel" style="margin-top: 12px">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="font-weight: 700">Mini Stats</div>
            </div>
            <div
              style="
                margin-top: 10px;
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 8px;
              "
            >
              <div class="small-card">
                <div class="small muted">Submissions</div>
                <div class="v" style="font-size: 1rem">9,520</div>
              </div>
              <div class="small-card">
                <div class="small muted">Accepted</div>
                <div class="v" style="font-size: 1rem">7,898</div>
              </div>
              <div class="small-card">
                <div class="small muted">Badges</div>
                <div class="v" style="font-size: 1rem">14</div>
              </div>
              <div class="small-card">
                <div class="small muted">Referrals</div>
                <div class="v" style="font-size: 1rem">5</div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <!-- Modal template -->
    <div id="miniModal" class="modal" aria-hidden="true">
      <div class="modal-card">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div style="font-weight: 800" id="modalTitle">Modal</div>
          <button class="close" id="modalClose">‚úï</button>
        </div>
        <div id="modalBody" style="margin-top: 12px; color: var(--muted)"></div>
        <div style="margin-top: 14px; display: flex; justify-content: flex-end">
          <button class="btn-ghost" id="modalDismiss">Close</button>
        </div>
      </div>
    </div>

    <script>
      // mock activity data
      const activities = [
        {
          who: "You",
          text: 'Solved "Longest Palindromic Substring"',
          time: "2m ago",
        },
        {
          who: "You",
          text: 'Unlocked "Graphs Quick Wins" pack',
          time: "1h ago",
        },
        { who: "Rafi", text: "Reached Level 10", time: "3h ago" },
        { who: "You", text: "Completed Weekly Contest #20", time: "1d ago" },
        { who: "Ayesha", text: "Claimed streak reward", time: "2d ago" },
      ];
      const feed = document.getElementById("activityFeed");
      activities.forEach((a) => {
        const el = document.createElement("div");
        el.className = "activity-item";
        el.innerHTML = `<div style="width:44px"><img src="https://i.pravatar.cc/44?img=${Math.floor(
          Math.random() * 70
        )}" style="width:44px;height:44px;border-radius:8px;object-fit:cover"></div>
      <div style="flex:1">
        <div style="font-weight:700">${
          a.who
        } <span style="color:var(--muted);font-weight:600">- ${
          a.text
        }</span></div>
        <div class="activity-time">${a.time}</div>
      </div>`;
        feed.appendChild(el);
      });

      // countdown timers (simple demo)
      function startCountdown(id, seconds) {
        let el = document.getElementById(id);
        let s = seconds;
        function tick() {
          if (s <= 0) {
            el.innerText = "00:00:00";
            return;
          }
          const h = String(Math.floor(s / 3600)).padStart(2, "0");
          const m = String(Math.floor((s % 3600) / 60)).padStart(2, "0");
          const sec = String(s % 60).padStart(2, "0");
          el.innerText = `${h}:${m}:${sec}`;
          s--;
          setTimeout(tick, 1000);
        }
        tick();
      }
      startCountdown("contestCountdown", 2 * 3600 + 42 * 60 + 15); // 2:42:15
      startCountdown("todayCountdown", 4 * 3600 + 59 * 60 + 12); // 4:59:12

      // XP fill animation (already set with style, just demonstrate)
      document.addEventListener("DOMContentLoaded", () => {
        const fill = document.getElementById("xpFill");
        const current = 62; // percent
        setTimeout(() => (fill.style.width = current + "%"), 120);
      });

      // Quick action handlers (demo)
      function showModal(title, body) {
        document.getElementById("modalTitle").innerText = title;
        document.getElementById("modalBody").innerText = body;
        const m = document.getElementById("miniModal");
        m.classList.add("show");
        m.setAttribute("aria-hidden", "false");
      }
      document
        .getElementById("startChallengeBtn")
        .addEventListener("click", () =>
          showModal("Start Daily Challenge", "Opening the challenge... (demo)")
        );
      document
        .getElementById("randomProblem")
        .addEventListener("click", () =>
          showModal(
            "Random Problem",
            "Loading a random problem for you ‚Äî good luck!"
          )
        );
      document
        .getElementById("joinContest")
        .addEventListener("click", () =>
          showModal(
            "Join Contest",
            "You are registered for Weekly Contest #21 ‚Äî prepare!"
          )
        );
      document
        .getElementById("startToday")
        .addEventListener("click", () =>
          showModal(
            "Start: String Mastery",
            "3 problems loaded. Timer started."
          )
        );
      document
        .getElementById("previewToday")
        .addEventListener("click", () =>
          showModal(
            "Preview: String Mastery",
            "Problem 1: Palindromic Cuts\\nProblem 2: Subsequence compare\\nProblem 3: Rolling Hash fun"
          )
        );
      document
        .getElementById("openLibrary")
        .addEventListener("click", () =>
          showModal("Library", "You have 12 unlocked packs.")
        );
      document
        .getElementById("openWallet")
        .addEventListener("click", () =>
          showModal(
            "Wallet",
            "Latest transactions: +150 coins (contest), -420 coins (pack)"
          )
        );
      document
        .getElementById("openSettings")
        .addEventListener("click", () =>
          showModal("Settings", "Profile, notifications, preferences.")
        );
      document.getElementById("modalClose").addEventListener("click", () => {
        const m = document.getElementById("miniModal");
        m.classList.remove("show");
        m.setAttribute("aria-hidden", "true");
      });
      document.getElementById("modalDismiss").addEventListener("click", () => {
        const m = document.getElementById("miniModal");
        m.classList.remove("show");
        m.setAttribute("aria-hidden", "true");
      });

      // search (simple highlight)
      document.getElementById("globalSearch").addEventListener("input", (e) => {
        const q = e.target.value.trim().toLowerCase();
        if (!q) {
          document
            .querySelectorAll(".pack-card")
            .forEach((c) => (c.style.opacity = 1));
          return;
        }
        document.querySelectorAll(".pack-card").forEach((c) => {
          const t = c.querySelector(".title").innerText.toLowerCase();
          c.style.opacity = t.includes(q) ? 1 : 0.35;
        });
      });

      // small responsive nicety: hide big search on mobile
      window.addEventListener("resize", () => {
        const s = document.getElementById("globalSearch");
        if (window.innerWidth < 560) s.style.width = "180px";
        else s.style.width = "360px";
      });
    </script>
  </body>
</html>
